---
layout: default
title: Ruby in Twenty Minutes
---
<div id="page">
      <div id="header">
        <div id="logo"><a href="/en/"><img src="/images/logo.gif" width="331" height="119" alt="Ruby - A Programmer's Best Friend" title=""></a></div>
        <div class="site-links">
<a href="/en/downloads/">Downloads</a><span class="separator"> | </span><strong><a href="/en/documentation/">Documentation</a></strong><span class="separator"> | </span><a href="/en/libraries/">Libraries</a><span class="separator"> | </span><a href="/en/community/">Community</a><span class="separator"> | </span><a href="/en/news/">News</a><span class="separator"> | </span><a href="/en/security/">Security</a><span class="separator"> | </span><a href="/en/about/">About Ruby</a>
        </div>
      </div>
      <hr class="hidden-modern">
<div id="main-wrapper">
        <div id="main">
          <div id="content-wrapper">
            <div id="head-wrapper-1">
              <div id="head-wrapper-2">
                <div id="head">
<div class="multi-page">




  <a href="../" title="Part 1">1</a>
  <span class="separator"> | </span>
  <a href="../2/" title="Part 2">2</a>
  <span class="separator"> | </span>
  <a href="../3/" title="Part 3">3</a>
  <span class="separator"> | </span>
  <strong>4</strong>

</div>
                  <h1>Ruby in Twenty Minutes</h1>
                </div>
              </div>
            </div>
            <div id="content">
<p>So, looking deeper at our new program, notice the initial lines, which begin with a
hash mark  (#).  In Ruby, anything  on a line  after a hash mark  is a
comment and is ignored by the interpreter.  The first line of the file
is a  special case, and under  a Unix-like operating  system tells the
shell how  to run the file.  The  rest of the comments  are there just
for clarity.</p>


	<p>Our <code>say_hi</code> method has become a bit trickier:</p>


<pre class="code ruby-code"><code><span class="comment"># Say hi to everybody</span><br><span class="keyword">def </span><span class="method">say_hi</span><br>&#160;&#160;<span class="keyword">if</span> <span class="attribute">@names</span><span class="punct">.</span><span class="ident">nil?</span><br>&#160;&#160;&#160;&#160;<span class="ident">puts</span> <span class="punct">"</span><span class="string">...</span><span class="punct">"</span><br>&#160;&#160;<span class="keyword">elsif</span> <span class="attribute">@names</span><span class="punct">.</span><span class="ident">respond_to?</span><span class="punct">("</span><span class="string">each</span><span class="punct">")</span><br>&#160;&#160;&#160;&#160;<span class="comment"># @names is a list of some kind, iterate!</span><br>&#160;&#160;&#160;&#160;<span class="attribute">@names</span><span class="punct">.</span><span class="ident">each</span> <span class="keyword">do</span> <span class="punct">|</span><span class="ident">name</span><span class="punct">|</span><br>&#160;&#160;&#160;&#160;&#160;&#160;<span class="ident">puts</span> <span class="punct">"</span><span class="string">Hello <span class="expr">#{name}</span>!</span><span class="punct">"</span><br>&#160;&#160;&#160;&#160;<span class="keyword">end</span><br>&#160;&#160;<span class="keyword">else</span><br>&#160;&#160;&#160;&#160;<span class="ident">puts</span> <span class="punct">"</span><span class="string">Hello <span class="expr">#{@names}</span>!</span><span class="punct">"</span><br>&#160;&#160;<span class="keyword">end</span><br><span class="keyword">end</span></code></pre>

	<p>It now  looks at the <code>@names</code> instance variable to make decisions.
If it&#8217;s nil,  it just prints  out three dots.   No point
greeting nobody, right?</p>


	<h2>Cycling and Looping&#8212;a.k.a. Iteration</h2>


	<p>If  the <code>@names</code> object responds to <code>each</code>,
it is  something that you can  iterate over, so iterate  over it and
greet each person  in turn.  Finally, if <code>@names</code>  is anything else,
just  let it  get  turned into  a  string automatically  and do  the
default greeting.</p>


	<p>Let&#8217;s look at that iterator in more depth:</p>


<pre class="code ruby-code"><code><span class="attribute">@names</span><span class="punct">.</span><span class="ident">each</span> <span class="keyword">do</span> <span class="punct">|</span><span class="ident">name</span><span class="punct">|</span><br>&#160;&#160;<span class="ident">puts</span> <span class="punct">"</span><span class="string">Hello <span class="expr">#{name}</span>!</span><span class="punct">"</span><br><span class="keyword">end</span></code></pre>

	<p><code>each</code> is a method that accepts a block of code then runs that block
of code  for every element in a  list, and the bit  between <code>do</code> and
<code>end</code> is just  such a block.  A block is  like an anonymous function
or <code>lambda</code>.  The variable  between pipe characters is the parameter
for this block.</p>


	<p>What happens here  is that for every entry in a  list, <code>name</code> is bound
to that list element, and  then the expression <code>puts "Hello #{name}!"</code>
is run with that name.</p>


	<p>Most other  programming languages handle  going over a list  using the
<code>for</code> loop, which in C looks something like:</p>


<pre class="code ruby-code"><code><span class="keyword">for</span> <span class="punct">(</span><span class="ident">i</span><span class="punct">=</span><span class="number">0</span><span class="punct">;</span> <span class="ident">i</span><span class="punct">&lt;</span><span class="ident">number_of_elements</span><span class="punct">;</span> <span class="ident">i</span><span class="punct">++)</span><br><span class="punct">{</span><br>&#160;&#160;<span class="ident">do_something_with</span><span class="punct">(</span><span class="ident">element</span><span class="punct">[</span><span class="ident">i</span><span class="punct">]);</span><br><span class="punct">}</span></code></pre>

	<p>This works, but isn&#8217;t very  elegant.  You need a throw-away variable
like  <code>i</code>, have to  figure out  how long  the list  is, and  have to
explain  how to  walk over  the  list.  The  Ruby way  is much  more
elegant, all  the housekeeping details are hidden  within the <code>each</code>
method,  all you  need to  do is  to tell  it what  to do  with each
element.   Internally,  the  <code>each</code>  method  will  essentially  call
<code>yield "Albert"</code>, then <code>yield "Brenda"</code> and then  <code>yield "Charles"</code>, 
and so on.</p>


	<h2>Blocks, the Highly Sparkling Glint on the Edge of Ruby</h2>


	<p>The real  power of blocks  is when dealing  with things that  are more
complicated  than   lists.  Beyond handling simple
housekeeping  details within the  method, you can also  handle setup,
teardown, and errors&#8212;all hidden away from the cares of the user.</p>


<pre class="code ruby-code"><code><span class="comment"># Say bye to everybody</span><br><span class="keyword">def </span><span class="method">say_bye</span><br>&#160;&#160;<span class="keyword">if</span> <span class="attribute">@names</span><span class="punct">.</span><span class="ident">nil?</span><br>&#160;&#160;&#160;&#160;<span class="ident">puts</span> <span class="punct">"</span><span class="string">...</span><span class="punct">"</span><br>&#160;&#160;<span class="keyword">elsif</span> <span class="attribute">@names</span><span class="punct">.</span><span class="ident">respond_to?</span><span class="punct">("</span><span class="string">join</span><span class="punct">")</span><br>&#160;&#160;&#160;&#160;<span class="comment"># Join the list elements with commas</span><br>&#160;&#160;&#160;&#160;<span class="ident">puts</span> <span class="punct">"</span><span class="string">Goodbye <span class="expr">#{@names.join(", ")}</span>.  Come back soon!</span><span class="punct">"</span><br>&#160;&#160;<span class="keyword">else</span><br>&#160;&#160;&#160;&#160;<span class="ident">puts</span> <span class="punct">"</span><span class="string">Goodbye <span class="expr">#{@names}</span>.  Come back soon!</span><span class="punct">"</span><br>&#160;&#160;<span class="keyword">end</span><br><span class="keyword">end</span></code></pre>

	<p>The <code>say_bye</code> method doesn&#8217;t use <code>each</code>, instead it checks to see if
<code>@names</code>  responds  to  the  <code>join</code>  method, and  if  so,  uses  it.
Otherwise, it just prints out the variable as a string.  This method
of not caring about the actual <em>type</em> of a variable, just relying on
what methods  it supports is  known as &#8220;Duck  Typing&#8221;, as in  &#8220;if it
walks like a duck  and quacks  like a duck&#8230;&#8221;.  The benefit of this
is  that it doesn&#8217;t  unnecessarily restrict  the types  of variables
that are  supported.  If someone  comes up with  a new kind  of list
class,  as long as  it implements  the <code>join</code>  method with  the same
semantics as other lists, everything will work as planned.</p>


	<h2>Kicking Off the Script</h2>


	<p>So,  that&#8217;s the MegaGreeter  class, the  rest of  the file  just calls
methods on that class.  There&#8217;s  one final trick to notice, and that&#8217;s
the line:</p>


<pre class="code ruby-code"><code><span class="keyword">if</span> <span class="constant">__FILE__</span> <span class="punct">==</span> <span class="global">$0</span></code></pre>

	<p><code>__FILE__</code> is the magic variable that contains the name of the current
file.  <code>$0</code> is  the name of the file used to  start the program.  This
check says  &#8220;If this is  the main file  being used&#8230;&#8221;  This  allows a
file to be used as a library, and not to execute code in that context,
but if  the file  is being  used as an  executable, then  execute that
code.</p>


	<h2>Consider Yourself Introduced</h2>


	<p>So  that&#8217;s it  for the  quick tour  of Ruby.   There&#8217;s a  lot  more to
explore, the different control structures that Ruby offers; the use of
blocks and <code>yield</code>; modules as mixins; and more.  I hope this taste of
Ruby has left you wanting to learn more.</p>


	<p>If so, please head on over to our <a href="/en/documentation/">Documentation</a> area,
which rounds up links to manuals and tutorials, all freely available online.</p>


	<p>Or, if you&#8217;d really like to dig into a book, check the <a href="http://www.ruby-doc.org/bookstore">book list</a> (off-site link)
for titles available for sale online or at your local bookseller.</p>
<div id="extended">

</div>
            </div>
          </div>
          <hr class="hidden-modern">
<div id="sidebar-wrapper">
            <div id="sidebar">


<div class="navigation">
  <h3>
<strong>Get Started,</strong> it&#8217;s easy!</h3>
  <ul class="menu">
<li><a href="http://TryRuby.org">Try Ruby! (in your browser)</a></li>

    <li><a href="/en/downloads/">Download Ruby</a></li>

    <li><a href="/en/documentation/quickstart/">Ruby in Twenty Minutes</a></li>
    <li><a href="/en/documentation/ruby-from-other-languages/">Ruby from Other Languages</a></li>
  </ul>
</div>

<div class="navigation">
  <h3>
<strong>Explore</strong> a new world&#8230;</h3>
  <ul class="menu">
<li><a href="/en/documentation/">Documentation</a></li>
    <li><a href="http://www.amazon.com/s/ref=sr_nr_n_5?ie=UTF8&amp;rs=1000&amp;keywords=Ruby&amp;rh=i%3Aaps%2Ck%3ARuby%2Ci%3Astripbooks%2Cn%3A1000%2Cn%3A5">Books</a></li>
    <li><a href="/en/libraries/">Libraries</a></li>
    <li><a href="/en/documentation/success-stories/">Success Stories</a></li>
  </ul>
</div>

<div class="navigation">
  <h3>
<strong>Participate</strong> in a friendly and growing community.</h3>
  <ul>
<li>
<a href="/en/community/mailing-lists/">Mailing Lists</a>: Talk about Ruby with programmers from all around the world.</li>
    <li>
<a href="/en/community/user-groups/">User Groups</a>: Get in contact with Rubyists in your area.</li>
    <li>
<a href="/en/community/weblogs/">Weblogs</a>: Read about what&#8217;s happening right now in the Ruby community.</li>
    <li>
<a href="/en/community/ruby-core/">Ruby Core</a>: Help polish the rough edges of the latest Ruby.</li>
    <li>
<a href="http://redmine.ruby-lang.org/">Issue Tracking</a>: Report or help solve issues in Ruby.</li>
  </ul>
</div>


<h3>Some Top Ruby Projects</h3>

<ul>
<li><a href="http://rubyforge.org/projects/rubyinstaller/" title='A self-contained installer that includes the Ruby language, several popular extensions, an HTML Help based API reference, and the "Book of Ruby" courtesy of Huw Collingbourne. Platforms: Windows 2000/XP/Vista/7.'>Ruby Installer for Windows</a></li>

<li><a href="http://rubyforge.org/projects/rails/" title="Rails is a web-application framework for the MVC pattern that includes both a template engine, controller framework, and object-relational mapping package. Everything needed to develop web-apps that can run on CGI, FastCGI, and mod_ruby.">Rails</a></li>

<li><a href="http://rubyforge.org/projects/ruby-dbi/" title="Ruby/DBI develops a database independent interface for accessing databases - similar to Perl's DBI.">Ruby/DBI</a></li>

<li><a href="http://rubyforge.org/projects/wtr/" title="Watir is a testing tool for automating browser-based tests of web applications. It is a Ruby library that works with Internet Explorer and Firefox.">Watir</a></li>

<li><a href="http://rubyforge.org/projects/amazon-ec2/" title="NOTE : WE'VE MOVED.  See the news or jump to our new home : https://github.com/grempe/amazon-ec2/ ">Amazon EC2 Ruby Gem</a></li>

</ul>
<p class="more"><a href="/en/libraries/top-projects/">More&#8230;</a></p>


<h3>Syndicate</h3>
<p><a href="/en/feeds/news.rss">Recent News (RSS)</a></p>
            </div>
          </div>
          <hr class="hidden-modern">
<div class="foot">
            <div class="site-links">
<a href="/en/downloads/">Downloads</a><span class="separator"> | </span><strong><a href="/en/documentation/">Documentation</a></strong><span class="separator"> | </span><a href="/en/libraries/">Libraries</a><span class="separator"> | </span><a href="/en/community/">Community</a><span class="separator"> | </span><a href="/en/news/">News</a><span class="separator"> | </span><a href="/en/security/">Security</a><span class="separator"> | </span><a href="/en/about/">About Ruby</a>
            </div>
          </div>
        </div>
      </div>
      <div id="search-box">
<form id="search-form" action="http://www.google.com/cse">
  <table class="fieldset"><tr>
<td>
        <input class="field" type="text" name="q" size="31" style="background: white url(http://www.google.com/coop/intl/en/images/google_custom_search_watermark.gif) left no-repeat" onfocus="this.style.background='white'" onblur="if (/^\s*$/.test(this.value)) this.style.background='white url(http://www.google.com/coop/intl/en/images/google_custom_search_watermark.gif) left no-repeat'">
</td>
      <td>
        <input type="hidden" name="cx" value="013598269713424429640:g5orptiw95w"><input type="hidden" name="ie" value="UTF-8"><input class="button" type="submit" name="sa" value="Search">
</td>
    </tr></table>
</form>
      </div>
      <div id="footer">
        <div class="fine-print">
          <p>Content available in <a href="/en/">English</a>, <a href="/fr/">French</a>, <a href="/ja/">Japanese</a>, <a href="/ko/">Korean</a>, <a href="/pl/">Polish</a>, <a href="/es/">Spanish</a>, <a href="/pt/">Portuguese</a>, <a href="/zh_cn/">Simplified Chinese</a>, <a href="/zh_TW/">Traditional Chinese</a>, <a href="/id/">Bahasa Indonesia</a>, <a href="/de/">German</a>, <a href="/it/">Italian</a>, <a href="/cs/">Czech</a>, <a href="/bg/">Bulgarian</a> and <a href="/tr/">Turkish</a>.</p> 
          <p>This website is made with Ruby and powered by <a href="http://radiantcms.org">Radiant CMS</a>.
            It is proudly maintained by <a href="http://rubyidentity.org">members of the Ruby community</a>. Please contact
            our <a href="mailto:webmaster@ruby-lang.org">webmaster</a> for questions or comments
            concerning this website.</p>
        </div>
      </div>
    </div>
